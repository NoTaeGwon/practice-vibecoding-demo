## TODO 웹 앱 요건 정의서

### 1. 프로젝트 개요
- **프로젝트 이름**: (예: Simple TODO Web App)
- **목적**: 사용자가 해야 할 일을 웹 브라우저에서 간단히 관리할 수 있는 TODO 애플리케이션을 구현한다.
- **타깃 사용자**: (예: 개인 사용자, 작은 팀, 사내 데모용 등)
- **사용 시나리오(간단)**:
  - 사용자는 브라우저에서 TODO 앱을 연다.
  - 할 일을 추가/수정/삭제/완료 처리한다.
  - 필요한 경우 필터(전체/진행중/완료)를 사용해 목록을 확인한다.

### 2. 범위(Scope)
- **포함**
  - 웹 브라우저에서 동작하는 TODO 리스트 UI
  - 기본 CRUD 기능(생성/조회/수정/삭제)
  - 완료 상태 토글 및 필터링
  - 클라이언트 단 저장(예: localStorage) 또는 간단한 백엔드 저장 중 하나 선택
- **제외** (초기 범위에서 제외할 것들을 명시)
  - 회원가입/로그인 등 인증 기능 여부 (결정 필요)
  - 협업 기능(다중 사용자, 권한 관리 등)
  - 알림/푸시, 캘린더 연동 등 고급 기능

### 3. 이해관계자
- **요구자**: (예: 데모를 보여줄 발표자, 내/외부 고객 등)
- **개발자**: (예: 본인, 팀원)
- **향후 사용자**: (예: 사내 교육용/데모용으로 사용하는 동료들)

---

### 4. 기능 요구사항(초안)

- **F-1. TODO 항목 추가**
  - 사용자는 입력창에 제목(필수)을 입력하고 버튼 클릭 또는 Enter로 TODO를 추가할 수 있어야 한다.
  - (선택) 설명, 마감일, 우선순위를 추가할지 여부 결정 필요.

- **F-2. TODO 목록 조회**
  - 추가된 TODO는 리스트 형태로 화면에 표시되어야 한다.
  - 새 항목은 목록의 상단 또는 하단에 추가되는 정책을 정해야 한다.

- **F-3. TODO 완료 처리**
  - 각 TODO 항목에 완료 체크박스(또는 토글)가 있어야 한다.
  - 완료된 항목은 스타일(취소선, 색상 변화 등)로 구분되어야 한다.

- **F-4. TODO 수정**
  - 사용자는 이미 등록된 TODO의 제목(및 선택 옵션들)을 수정할 수 있어야 한다.
  - 인라인 편집으로 할지, 별도 편집 모달/폼으로 할지 결정 필요.

- **F-5. TODO 삭제**
  - 사용자는 TODO를 삭제할 수 있어야 한다.
  - 삭제 시 확인 팝업이 필요한지 여부 결정 필요.

- **F-6. 필터링 및 정렬**
  - 전체/진행중/완료 상태별 필터링 기능 제공 여부 결정.
  - 정렬 기준(생성일, 마감일, 우선순위 등)을 둘지 여부 결정.

- **F-7. 데이터 저장 방식**
  - DynamoDB 사용
  - 새로고침/브라우저 재실행 시에도 데이터가 유지되어야 하는지 여부 결정.

---

### 5. 비기능 요구사항(초안)

- **성능**
  - 소규모 TODO 개수(예: 수백 개 이하)에서 빠르게 동작하면 충분.
  - 초기 로딩 시간은 (예: 2초 이내) 정도를 목표.

- **사용성(UX)**
  - 모바일/데스크톱 브라우저에서 모두 사용 가능하도록 반응형 레이아웃 여부 결정.
  - 첫 화면에서 주요 기능(추가/완료/삭제)을 직관적으로 이해할 수 있어야 한다.

- **디자인(UI)**
  - 심플하고 모던한 디자인(예: 라이트 테마 + 간단한 포인트 컬러).
  - 데모에 어울리는 최소한의 깔끔한 스타일링.

 - **기술 스택**
   - 리포지토리 구성: **Node.js 기반 모노레포**
     - 하나의 Git 리포지토리에서 프론트엔드와 백엔드, 인프라(CDK)를 함께 관리
     - 예: npm 또는 pnpm workspaces를 사용해 패키지별 의존성을 관리
   - 프론트엔드 프레임워크: React
     - UI 라이브러리: Mantine (React UI 컴포넌트 라이브러리)
     - 상태 관리: React Context + useReducer
     - 테스트: Jest, React Testing Library
   - 백엔드: Node.js(TypeScript)
   - 인프라: AWS CDK로 서버리스 (Api GateWay, Lambda, DynamoDB) 아키텍처 사용
   - 빌드 도구: Vite
---

### 6. 백엔드 요건 정의

#### 6.1 아키텍처 개요
- **서버리스 아키텍처**: AWS 서버리스 서비스를 사용하여 백엔드를 구성한다.
  - **API Gateway**: REST API 엔드포인트 제공 및 요청 라우팅
  - **AWS Lambda**: 비즈니스 로직 실행 (Node.js/TypeScript)
  - **DynamoDB**: TODO 데이터 영구 저장
  - **AWS Cognito**: 인증 및 권한 제어 (비로그인 사용자 차단용)

#### 6.2 API 엔드포인트 정의
- **POST /todos**: TODO 항목 생성
  - 요청 본문: `{ title: string, priority?: "low" | "medium" | "high", completed?: boolean }`
  - 응답: 생성된 TODO 객체 (ID, 생성 시간 포함)
- **GET /todos**: TODO 목록 조회
  - 쿼리 파라미터: `?q=<검색어>` (제목 검색), `?filter=<all|active|completed>`, `?priority=<all|low|medium|high>`
  - 응답: TODO 배열
- **PUT /todos/{todoId}**: TODO 항목 수정
  - 요청 본문: `{ title?: string, priority?: "low" | "medium" | "high", completed?: boolean }`
  - 응답: 수정된 TODO 객체
- **DELETE /todos/{todoId}**: TODO 항목 삭제
  - 응답: 삭제 성공 메시지

#### 6.3 인증 및 권한 제어
- **AWS Cognito 사용 목적**
  - 학습용 프로젝트이므로 회원가입/로그인 기능은 구현하지 않음
  - **비로그인 사용자의 API 접근을 차단**하기 위해 Cognito Authorizer를 사용
  - API Gateway에서 Cognito User Pool Authorizer를 설정하여, 유효한 JWT 토큰이 없는 요청은 401 Unauthorized 응답
- **권한 정책**
  - 로그인한 사용자만 자신의 TODO 데이터에 접근 가능
  - TODO 데이터는 사용자별로 분리 저장 (DynamoDB 파티션 키에 `userId` 포함)
  - 비로그인 사용자는 모든 API 엔드포인트 접근 불가

#### 6.4 데이터 저장 (DynamoDB)
- **테이블 구조**
  - 테이블명: `Todos` (또는 환경별 prefix 포함)
  - 파티션 키: `userId` (Cognito User ID)
  - 정렬 키: `todoId` (UUID)
  - 속성: `title`, `priority`, `completed`, `createdAt`, `updatedAt`
- **데이터 일관성**
  - 사용자별로 TODO 목록을 조회/수정/삭제
  - DynamoDB의 조건부 쓰기(Conditional Writes)를 활용하여 데이터 무결성 보장

#### 6.5 CI/CD (GitHub Actions)
- **CI 파이프라인**
  - `push` 및 `pull_request` 이벤트 시 자동 실행
  - 단계:
    1. 코드 린팅 (`npm run lint:api`)
    2. 단위 테스트 실행 (`npm run test:api`)
    3. 빌드 검증 (`npm run build:api`)
- **CD 파이프라인**
  - `main` 브랜치에 `push` 시 자동 배포
  - 단계:
    1. CDK 스택 빌드 및 배포 (`cdk deploy`)
    2. 배포 후 통합 테스트 (선택 사항)

#### 6.6 Infrastructure as Code (IaC)
- **AWS CDK (TypeScript) 사용**
  - `infra/cdk` 디렉터리에 CDK 스택 정의
  - 리소스 구성:
    - API Gateway (REST API)
    - Lambda 함수들 (각 엔드포인트별 핸들러)
    - DynamoDB 테이블
    - Cognito User Pool 및 Authorizer
    - IAM 역할 및 정책
  - 환경별 스택 분리 가능 (예: `dev`, `prod`)
- **배포 방식**
  - 로컬에서 `cdk deploy` 명령으로 배포
  - 또는 GitHub Actions를 통한 자동 배포

#### 6.7 에러 처리 및 응답 형식
- **공통 응답 형식**
  - 성공: `{ success: true, data: <응답 데이터> }`
  - 에러: `{ success: false, error: { code: string, message: string } }`
- **HTTP 상태 코드**
  - `200 OK`: 성공
  - `201 Created`: 리소스 생성 성공
  - `400 Bad Request`: 잘못된 요청 (유효성 검사 실패)
  - `401 Unauthorized`: 인증 실패 (Cognito 토큰 없음/만료)
  - `403 Forbidden`: 권한 없음
  - `404 Not Found`: 리소스 없음
  - `500 Internal Server Error`: 서버 오류

#### 6.8 보안 고려사항
- **CORS 설정**
  - API Gateway에서 프론트엔드 도메인(GitHub Pages)에 대한 CORS 허용
- **HTTPS 강제**
  - API Gateway는 기본적으로 HTTPS만 지원
- **입력 검증**
  - Lambda 핸들러에서 요청 본문 및 파라미터 유효성 검사
  - SQL Injection 등은 DynamoDB 사용으로 자동 방지

---

### 7. 화면(페이지) 구성 초안

- **화면 1: TODO 메인 화면**
  - 상단: 앱 제목, 간단한 설명(선택).
  - 입력 영역: TODO 입력 필드 + 추가 버튼.
  - 필터 영역: 전체/진행중/완료 버튼(선택).
  - 목록 영역: TODO 리스트(체크박스, 제목, 기타 정보, 수정/삭제 버튼).

- (선택) **화면 2: 상세 보기/설정**
  - 필요 시 TODO 상세 정보 표시 또는 앱 설정 화면 추가.

---

### 8. 요건 정의를 위해 확인해야 할 질문들

#### 8.1 비즈니스/목적 관련 질문
- 이 TODO 앱은 **어떤 상황에서 데모**로 사용될 예정인가요? 
A: 개발 연습
- 데모의 **핵심 포인트**는 무엇인가요? (깔끔한 UI, 코드 구조, 테스트, 성능 등) 
A: 테스트트
- 이 앱을 **실제 사용자도 쓰게 할 계획**이 있나요, 아니면 데모 전용인가요? 
A: 잘 만들어지면 그때 되서 생각

#### 8.2 사용자/도메인 관련 질문
- 예상하는 **사용자 수**나 **동시 접속 규모**가 있나요?
A: 10명 목표 
- 사용자는 **로그인 없이** 사용할 수 있나요, 아니면 간단한 **계정/인증**이 필요할까요?
A: AWS Cognito로 로그인/회원가입 구현현
- 다국어 지원(예: 한국어/영어)을 고려해야 하나요?
A: 고려 X

#### 8.3 기능 관련 질문
- TODO 항목에 **어떤 속성**이 꼭 필요할까요?
  - 제목 외에 설명, 태그, 마감일, 우선순위, 첨부파일 등이 필요한가요?
A: 필요 없음
- TODO 항목에 **반복 일정 기능**(매일/매주 등)이 필요한가요?
A: 필요 없음
- TODO 항목을 **카테고리/프로젝트** 별로 묶는 기능이 필요한가요?
A: 필요 없음
- 완료된 TODO를 **자동으로 숨기거나 정리**하는 기능이 필요할까요?
A: 필요 없음
- **검색 기능**(키워드로 TODO 검색)이 필요할까요?
A: 제목만
- 삭제된 TODO를 복구하는 **휴지통/Undo** 기능이 필요한가요?
A: 필요 없음

#### 8.4 UX/UI 관련 질문
- 우선 목표는 **모바일 최적화**, **데스크톱 최적화**, **양쪽 모두** 중 무엇인가요?
A: 모바일 최적화
- **다크 모드** 또는 테마 변경 기능이 필요한가요?
A: 필요 없음
- 데모에서 특히 강조하고 싶은 **인터랙션**(애니메이션, 마이크로 인터랙션 등)이 있나요?
A: 필요 없음
- 접근성(Accessibility: 키보드 탐색, 스크린리더 친화 등)을 어느 정도 고려해야 할까요?
A: 필요 없음

#### 8.5 기술/아키텍처 관련 질문
- 프론트엔드는 **어떤 프레임워크/라이브러리**를 선호하시나요? (React, Vue, Svelte, Next 등)
A: React
- 상태 관리는 **간단한 컴포넌트 상태**로 충분한가요, 아니면 Redux/Zustand/Recoil 등 별도 상태 관리가 필요할까요?
- 백엔드를 쓴다면:
  - 어떤 언어/런타임(Node, Python, etc.)을 선호하시나요?
  A: Node.js(TypeScript)
- 배포는 **어디에** 할 계획인가요? (예: Vercel, Netlify, GitHub Pages, 사내 서버 등)
A: AWS에 배포, 프론트엔드와 CI/CD는 Github Pages와 Github Actions 사용

#### 8.6 보안/권한 관련 질문
- 로그인 기능이 있다면, **인증 방식**(이메일/비밀번호, 소셜 로그인 등)을 어떻게 할 계획인가요?
A: AWS Cogito로 로그인/회원가입 구현현
- TODO 데이터는 **사용자별로 분리**되어야 하나요?
A: 각자 개인의 TODO 목록록
- HTTPS, CORS, 기본적인 보안 헤더 등은 어느 정도까지 고려하면 될까요? (데모 수준 vs 실제 서비스 수준)
A: 데모 수준

#### 8.7 운영/유지보수 관련 질문
- 이 앱은 **일회성 데모**인가요, 아니면 계속 유지/개선할 계획인가요?
A: 추후 개선선
- 향후 기능 확장을 염두에 두고 **확장 가능한 구조**로 설계해야 하나요?
A: 필요 없음음
- 로그 수집, 에러 모니터링(Sentry 등)이 필요한가요?
A: 필요 없음
---

### 9. 다음 단계 제안
- 위 질문들에 대해 답을 정리한 후:
  1. **요구사항 확정본**을 이 문서에 반영한다.
  2. 화면 와이어프레임(또는 간단한 스케치)을 만든다.
  3. 기술 스택과 프로젝트 구조를 확정하고 초기 프로젝트를 세팅한다.
  4. 핵심 기능(F-1 ~ F-5)을 우선 구현하고, 이후 선택 기능을 점진적으로 추가한다.



